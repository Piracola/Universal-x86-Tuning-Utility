<Page x:Class="Universal_x86_Tuning_Utility.Views.Pages.Adaptive"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Universal_x86_Tuning_Utility.Views.Pages"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      d:DataContext="{d:DesignInstance local:CustomPresets, IsDesignTimeCreatable=False}"
      d:Background="{DynamicResource ApplicationBackgroundBrush}"
      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
      mc:Ignorable="d" 
      d:DesignHeight="1000" d:DesignWidth="800"
      Title="Adaptive Mode" Loaded="Page_Loaded">

    <Grid>
        <DockPanel LastChildFill="True" Margin="15,0,0,0">
            <TextBlock
            FontSize="26"
            FontWeight="Medium"
            Text="自适应模式" DockPanel.Dock="Top" Margin="3,10,0,0"/>

            <DockPanel DockPanel.Dock="Top" Margin="0
                       ,9,18,0">
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" HorizontalAlignment="Left">
                    <TextBlock FontSize="17" FontWeight="Medium" Margin="0,0,12,0" VerticalAlignment="Center">游戏/应用：</TextBlock>
                    <ComboBox Width="225" Name="cbxPowerPreset" SelectionChanged="cbxPowerPreset_SelectionChanged" Height="37"></ComboBox>
                    <ui:Button  HorizontalAlignment="Right" VerticalAlignment="Center" Height="37" DockPanel.Dock="Bottom" Width="50" Name="btnReloadApps" ToolTip="更新游戏/应用下拉列表" Click="btnReloadApps_Click" Margin="9,0,0,0">
                        <ui:SymbolIcon Symbol="ArrowSync20" FontSize="24"/>
                    </ui:Button>
                </StackPanel>
            </DockPanel>

            <TextBlock DockPanel.Dock="Top" Margin="0,8,0,0" Foreground="LightGray">注意：在启动模式之前等待配置文件加载完成！</TextBlock>

            <StackPanel Orientation="Horizontal" DockPanel.Dock="Bottom" HorizontalAlignment="Right" Margin="0,9,9,6">
                <TextBlock FontSize="14" Foreground="{DynamicResource TextFillColorPrimaryBrush}" VerticalAlignment="Center" Margin="0,0,9,9">轮询率</TextBlock>
                <ui:NumberBox Margin="0,0,9,9" x:Name="nudPolling" Minimum="1" Maximum="8" Value="2" SmallChange="0.05" MaxDecimalPlaces="2"></ui:NumberBox>
                <CheckBox Name="cbAutoSwitch" Content="自动切换应用配置" Margin="0,0,9,9" VerticalAlignment="Center" Click="cbAutoSwitch_Click"/>
                <ui:Button HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,9,9" Height="40" DockPanel.Dock="Bottom" Width="50" Name="btnSave" ToolTip="保存当前设置" Click="btnSave_Click" IsEnabled="False">
                    <ui:SymbolIcon Symbol="Save20" FontSize="24"/>
                </ui:Button>
                <ui:Button HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,9,9" Height="40" DockPanel.Dock="Bottom" Width="185" Name="btnStart" Click="btnStart_Click" IsEnabled="False">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Name="siStartIcon" Symbol="Play20" FontSize="24"/>
                        <TextBlock Name="tbxStartText" VerticalAlignment="Center" Margin="9,0,0,0">启动自适应模式</TextBlock>
                    </StackPanel>
                </ui:Button>
            </StackPanel>

            <ScrollViewer Name="mainScroll" Margin="0,9,0,0" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" CanContentScroll="False" PanningMode="VerticalFirst" Stylus.IsFlicksEnabled="False" Stylus.IsTouchFeedbackEnabled="True" IsDeferredScrollingEnabled="False" DockPanel.Dock="Top" ScrollChanged="mainScroll_ScrollChanged">
                <StackPanel Name="mainCon">
                    <ui:CardControl Name="sdEnabled"
                             IsEnabled="True"
                             Icon="PresenceAvailable10"
                             VerticalAlignment="Top"
                             Margin="0,0,15,0">
                        
                        <ui:CardControl.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Text="自动切换" />
                                    <TextBlock
                                        FontSize="12"
                                        Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                                        Text="启用此配置以进行自动切换。可用于排除游戏/应用不进行自动切换。"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Grid.Column="1">
                                    <ui:ToggleSwitch Name="tsAutoSwitch" Margin="0,0,9,0"/>
                                </StackPanel>
                            </Grid>
                        </ui:CardControl.Header>
                    </ui:CardControl>
                <ui:CardExpander Name="sdBasic"
            IsEnabled="True"
            IsExpanded="False"
            Icon="Book20" VerticalAlignment="Top" Margin="0,8,15,0">
                    <ui:CardExpander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                <TextBlock
                            FontSize="14"
                            FontWeight="Medium"
                            Text="基本自适应模式设置" />
                                <TextBlock
                            FontSize="12"
                            Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                            Text="提供切换/设置自适应模式目标的能力。"/>
                            </StackPanel>
                        </Grid>
                    </ui:CardExpander.Header>
                    <!--  CardExpander content  -->
                    <StackPanel>
                        <StackPanel Margin="0,-8,0,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">最大温度限制（°C）</TextBlock>
                                <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制自适应模式允许设置的最大温度限制" VerticalAlignment="Bottom" />
                            </StackPanel>

                            <Grid Margin="0,8,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0" />
                                    <ColumnDefinition Width="150" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <!--<CheckBox Name="cbTemp"/>-->
                                <ui:NumberBox Name="nudTemp" Text="{Binding ElementName=sdTemp, Path=Value}" Value="{Binding ElementName=sdTemp, Path=Value}" Maximum="105" Minimum="10" Grid.Column="1" SmallChange="1" MaxDecimalPlaces="0" />
                                <Slider Name="sdTemp" Value="{Binding ElementName=nudTemp, Path=Value}" Maximum="105" Minimum="10" Grid.Column="2" Margin="12,0,0,0" TickFrequency="1" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                            </Grid>
                        </StackPanel>
                        <StackPanel Margin="0,8,0,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">最大功率限制（W）</TextBlock>
                                <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制自适应模式允许设置的最大功率限制" VerticalAlignment="Bottom"/>
                            </StackPanel>
                            <Grid Margin="0,8,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0" />
                                    <ColumnDefinition Width="150" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <!--<CheckBox Name="cbPowerLimit"/>-->
                                <ui:NumberBox Name="nudPowerLimit" Text="{Binding ElementName=sdPowerLimit, Path=Value}" Value="{Binding ElementName=sdPowerLimit, Path=Value}" Maximum="300" Minimum="8" Grid.Column="1" SmallChange="1" MaxDecimalPlaces="0" />
                                <Slider Name="sdPowerLimit" Value="{Binding ElementName=nudPowerLimit, Path=Value}" Maximum="300" Minimum="8" Grid.Column="2" Margin="12,0,0,0" TickFrequency="1" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                            </Grid>
                        </StackPanel>
                        <StackPanel Margin="0,8,0,0" Name="spCO">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">最大曲线优化器限制（-）</TextBlock>
                                <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制自适应模式允许设置的最大负向曲线优化器限制" VerticalAlignment="Bottom"/>
                            </StackPanel>
                            <Grid Margin="0,8,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="33" />
                                    <ColumnDefinition Width="150" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <CheckBox Name="cbCurve"/>
                                <ui:NumberBox Name="nudCurve" Text="{Binding ElementName=sdCurve, Path=Value}" Value="{Binding ElementName=sdCurve, Path=Value}" Maximum="50" Minimum="0" Grid.Column="1" SmallChange="1" MaxDecimalPlaces="0" />
                                <Slider Name="sdCurve" Value="{Binding ElementName=nudCurve, Path=Value}" Maximum="50" Minimum="0" Grid.Column="2" Margin="12,0,0,0" TickFrequency="1" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                            </Grid>
                        </StackPanel>
                    </StackPanel>
                </ui:CardExpander>

                <ui:CardExpander Name="sdTBOiGPU"
            IsEnabled="True"
            IsExpanded="False"
            Icon="Pulse20" VerticalAlignment="Top" Margin="0,8,15,0">
                    <ui:CardExpander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                <TextBlock
                            FontSize="14"
                            FontWeight="Medium"
                            Text="Turbo Boost Overdrive iGPU 设置" />
                                <TextBlock
                            FontSize="12"
                            Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                            Text="提供切换/设置 Turbo Boost Overdrive iGPU 目标的能力。"/>
                            </StackPanel>
                                <StackPanel Orientation="Horizontal" Grid.Column="1">
                                    <ui:ToggleSwitch Name="tsTBOiGPU" Margin="0,0,9,0"/>
                                </StackPanel>
                            </Grid>
                    </ui:CardExpander.Header>
                    <!--  CardExpander content  -->
                    <StackPanel>
                        <StackPanel Margin="0,-8,0,0">
                            <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">最大 iGPU 时钟限制（MHz）</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制自适应模式允许设置的最大 iGPU 时钟速度" VerticalAlignment="Bottom" />
                            </StackPanel>

                            <Grid Margin="0,8,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0" />
                                    <ColumnDefinition Width="150" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <!--<CheckBox Name="cbMaxGfxClk"/>-->
                                    <ui:NumberBox Name="nudMaxGfxClk" Text="{Binding ElementName=sdMaxGfxClk, Path=Value}" Value="{Binding ElementName=sdMaxGfxClk, Path=Value}" Maximum="3300" Minimum="200" Grid.Column="1" SmallChange="25" MaxDecimalPlaces="0" />
                                    <Slider Name="sdMaxGfxClk" Value="{Binding ElementName=nudMaxGfxClk, Path=Value}" Maximum="3400" Minimum="200" Grid.Column="2" Margin="12,0,0,0" TickFrequency="25" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                            </Grid>
                        </StackPanel>

                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">最小 iGPU 时钟限制（MHz）</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制自适应模式允许设置的最小 iGPU 时钟速度" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="0" />
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <!--<CheckBox Name="cbMinGfxClk"/>-->
                                    <ui:NumberBox Name="nudMinGfxClk" Text="{Binding ElementName=sdMinGfxClk, Path=Value}" Value="{Binding ElementName=sdMinGfxClk, Path=Value}" Maximum="3300" Minimum="200" Grid.Column="1" SmallChange="25" MaxDecimalPlaces="0"/>
                                    <Slider Name="sdMinGfxClk" Value="{Binding ElementName=nudMinGfxClk, Path=Value}" Maximum="3400" Minimum="200" Grid.Column="2" Margin="12,0,0,0" TickFrequency="25" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">最小 CPU 时钟限制（MHz）</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制自适应模式开始限制 iGPU 时钟的最小 CPU 时钟速度" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="0" />
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <!--<CheckBox Name="cbMinGfxClk"/>-->
                                    <ui:NumberBox Name="nudMinCpuClk" Text="{Binding ElementName=sdMinCpuClk, Path=Value}" Value="{Binding ElementName=sdMinCpuClk, Path=Value}" Maximum="4000" Minimum="1000" Grid.Column="1" SmallChange="25" MaxDecimalPlaces="0"/>
                                    <Slider Name="sdMinCpuClk" Value="{Binding ElementName=nudMinCpuClk, Path=Value}" Maximum="4000" Minimum="1000" Grid.Column="2" Margin="12,0,0,0" TickFrequency="25" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>
                            <TextBlock Margin="0,8,0,0" Foreground="LightGray">注意：确保您平衡 CPU 和 iGPU 时钟以获得最佳性能！</TextBlock>
                        </StackPanel>
                </ui:CardExpander>
                    <ui:CardExpander Name="sdUXTUSR"
IsEnabled="True"
IsExpanded="False"
Icon="Image24" Margin="0,8,15,0">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                    <TextBlock
                FontSize="14"
                FontWeight="Medium"
                Text="UXTU 超分辨率" />
                                    <TextBlock
                FontSize="12"
                Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                Text="由定制版 Magpie 提供支持。使用 Alt+F 切换。"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Grid.Column="1">
                                    <ui:ToggleSwitch Name="tsUXTUSR" Margin="0,0,9,0"/>
                                </StackPanel>
                            </Grid>
                        </ui:CardExpander.Header>
                        <!--  CardExpander content  -->
                        <StackPanel>
                            <StackPanel Margin="0,-8,0,0">
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>

                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Orientation="Horizontal">
                                        <CheckBox Name="cbVSync" Checked="cb_Checked" FontSize="13" FontWeight="DemiBold" Content="启用垂直同步" Foreground="{DynamicResource TextFillColorPrimaryBrush}"/>
                                        <ui:SymbolIcon Symbol="Info20" Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="6,0,0,-4" ToolTip="将捕获帧率同步到显示刷新率。" VerticalAlignment="Center" />
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,-8,0,0">
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>

                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Orientation="Horizontal">
                                        <CheckBox Width="130" Name="cbAutoCap" Checked="cb_Checked" FontSize="13" FontWeight="DemiBold" Content="自动重新捕获" Foreground="{DynamicResource TextFillColorPrimaryBrush}"/>
                                        <ui:SymbolIcon Symbol="Info20" Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="6,0,0,-4" ToolTip="在失去焦点并恢复焦点后，自动重新捕获之前的捕获窗口。" VerticalAlignment="Center" />
                                    </StackPanel>
                                </Grid>
                            </StackPanel>

                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">Capture Sharpness (%)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制 UXTU 超分辨率捕获图像的锐度。" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <ui:NumberBox Name="nudSharp" Text="{Binding ElementName=sdSharp, Path=Value}" Value="{Binding ElementName=sdSharp, Path=Value}" Maximum="100" Minimum="5" Grid.Column="0" SmallChange="1" MaxDecimalPlaces="0"  />
                                    <Slider Name="sdSharp" Value="{Binding ElementName=nudSharp, Path=Value}" Maximum="100" Minimum="5" Grid.Column="1" Margin="12,0,0,0" TickFrequency="1" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>

                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">Resolution Scale</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制被捕获窗口的分辨率。如果您不希望 UXTU 覆盖窗口分辨率，请使用应用程序控制。并非所有应用程序都与此模式兼容！" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="208" />
                                    </Grid.ColumnDefinitions>
                                    <ComboBox
Grid.Column="1"
VerticalAlignment="Center" SelectedIndex="0" MinWidth="138" Name="cbxResScale" Height="37">
                                        <ComboBoxItem>Application Controlled</ComboBoxItem>
                                        <ComboBoxItem>Ultra Quality (77%)</ComboBoxItem>
                                        <ComboBoxItem>Quality (67%)</ComboBoxItem>
                                        <ComboBoxItem>Balanced (59%)</ComboBoxItem>
                                        <ComboBoxItem>Performance (50%)</ComboBoxItem>
                                        <ComboBoxItem>Ultra Performance (33%)</ComboBoxItem>
                                    </ComboBox>
                                </Grid>
                            </StackPanel>
                        </StackPanel>
                    </ui:CardExpander>
                    <ui:CardExpander Name="sdADLX"
            IsEnabled="True"
            IsExpanded="False"
            Icon="Image24" Margin="0,8,15,0">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                    <TextBlock
                            FontSize="14"
                            FontWeight="Medium"
                            Text="Radeon™ 图形选项" />
                                    <TextBlock
                            FontSize="12"
                            Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                            Text="提供自定义驱动程序图形选项的能力"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Grid.Column="1">
                                    <ui:ToggleSwitch Name="tsRadeonGraph" Margin="0,0,9,0"/>
                                </StackPanel>
                            </Grid>
                        </ui:CardExpander.Header>
                        <!--  CardExpander content  -->
                        <StackPanel>
                            <StackPanel Margin="0,-8,0,0">
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>

                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Orientation="Horizontal">
                                        <CheckBox Name="cbAntiLag" Checked="cb_Checked" FontSize="13" FontWeight="DemiBold" Content="Radeon™ Anti-Lag" Foreground="{DynamicResource TextFillColorPrimaryBrush}"/>
                                        <ui:SymbolIcon Symbol="Info20" Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="6,0,0,-4" ToolTip="在支持的硬件上启用 AMD Radeon™ Anti-Lag 驱动程序。" VerticalAlignment="Center" />
                                    </StackPanel>

                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">Radeon™ 超分辨率 (%)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="在支持的硬件上启用 AMD Radeon™ Super Resolution 驱动程序。还允许您设置自定义锐度效果。" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="33" />
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <CheckBox Name="cbRSR" Checked="cb_Checked"/>
                                    <ui:NumberBox Name="nudRSR" Text="{Binding ElementName=sdRSR, Path=Value}" Value="{Binding ElementName=sdRSR, Path=Value}" Minimum="100" Maximum="5" Grid.Column="1" SmallChange="1" MaxDecimalPlaces="0"/>
                                    <Slider Name="sdRSR" Value="{Binding ElementName=nubRSR, Path=Value}" Maximum="100" Minimum="5" Grid.Column="2" Margin="12,0,0,0" TickFrequency="1" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">Radeon™ Boost (%)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="在支持的硬件上启用 AMD Radeon™ Boost 驱动程序。还允许您以百分比设置最小分辨率。" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="33" />
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <CheckBox Name="cbBoost" Checked="cb_Checked"/>
                                    <ui:NumberBox Name="nudBoost" Text="{Binding ElementName=sdBoost, Path=Value}" Value="{Binding ElementName=sdBoost, Path=Value}" Maximum="83" Minimum="50" Grid.Column="1" SmallChange="1" MaxDecimalPlaces="0"/>
                                    <Slider Name="sdBoost" Value="{Binding ElementName=nudBoost, Path=Value}" Maximum="83" Minimum="50" Grid.Column="2" Margin="12,0,0,0" TickFrequency="1" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">Radeon™ Image Sharpening (%)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="在支持的硬件上启用 AMD Radeon™ Image Sharpening 驱动程序。允许您设置自定义锐度效果。" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="33" />
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <CheckBox Name="cbImageSharp" Checked="cb_Checked"/>
                                    <ui:NumberBox Name="nudImageSharp" Text="{Binding ElementName=sdImageSharp, Path=Value}" Value="{Binding ElementName=sdImageSharp, Path=Value}" Maximum="100" Minimum="10" Grid.Column="1" SmallChange="5" MaxDecimalPlaces="0"/>
                                    <Slider Name="sdImageSharp" Value="{Binding ElementName=nudImageSharp, Path=Value}" Maximum="100" Minimum="10" Grid.Column="2" Margin="12,0,0,0" TickFrequency="5" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>

                            <StackPanel Margin="0,8,0,0">
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>

                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Orientation="Horizontal">
                                        <CheckBox Name="cbSync" Checked="cb_Checked" FontSize="13" FontWeight="DemiBold" Content="增强同步" Foreground="{DynamicResource TextFillColorPrimaryBrush}"/>
                                        <ui:SymbolIcon Symbol="Info20" Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="6,0,0,-4" ToolTip="在支持的硬件上启用 AMD Enhanced Sync 驱动程序。" VerticalAlignment="Center" />
                                    </StackPanel>

                                </Grid>
                            </StackPanel>
                        </StackPanel>
                    </ui:CardExpander>
                    <ui:CardExpander Name="sdNVIDIA"
IsEnabled="True"
IsExpanded="False"
Icon="Pulse20" Margin="0,8,15,0">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                    <TextBlock
                FontSize="14"
                FontWeight="Medium"
                Text="NVIDIA GPU 调优" />
                                    <TextBlock
                FontSize="12"
                Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                Text="提供调优您的 NVIDIA GPU 的能力。"/>
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Grid.Column="1">
                                    <ui:ToggleSwitch Name="tsNV" Margin="0,0,9,0"/>
                                </StackPanel>
                            </Grid>
                        </ui:CardExpander.Header>
                        <!--  CardExpander content  -->
                        <StackPanel>
                            <StackPanel Margin="0,-8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">Frequency-Adjusted Voltage Limit (MHz)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制您的 GPU 在频率/电压曲线中根据时钟速度运行的最大电压。您可以通过将此时钟速度降低到低于默认值并增加核心时钟偏移来对 NVIDIA GPU 进行降压。从 GPU 的额定加速时钟开始并向下调整。要重置它，请将其设置为滑块允许的最大可能时钟。" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <ui:NumberBox Name="nudNVMaxCore" Text="{Binding ElementName=sdMaxNVCore, Path=Value}" Value="{Binding ElementName=sdNVMaxCore, Path=Value}" Maximum="4000" Minimum="400" Grid.Column="0" SmallChange="5" MaxDecimalPlaces="0" />
                                    <Slider Name="sdNVMaxCore" Value="{Binding ElementName=nudNVMaxCore, Path=Value}" Maximum="4000" Minimum="400" Grid.Column="1" Margin="12,0,0,0" TickFrequency="5" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">GPU 核心时钟偏移 (MHz)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制您的 NVIDIA GPU 核心时钟的时钟偏移" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <ui:NumberBox Name="nudNVCore" Text="{Binding ElementName=sdNVCore, Path=Value}" Value="{Binding ElementName=sdNVCore, Path=Value}" Maximum="2000" Minimum="-500" Grid.Column="0" SmallChange="5" MaxDecimalPlaces="0" />
                                    <Slider Name="sdNVCore" Value="{Binding ElementName=nudNVCore, Path=Value}" Maximum="2000" Minimum="-500" Grid.Column="1" Margin="12,0,0,0" TickFrequency="5" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">GPU Memory Clock (MHz)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制您的 NVIDIA GPU VRAM 时钟的时钟偏移" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <ui:NumberBox Name="nudNVMem" Text="{Binding ElementName=sdNVMem, Path=Value}" Value="{Binding ElementName=sdNVMem, Path=Value}" Maximum="2000" Minimum="-500" Grid.Column="0" SmallChange="25" MaxDecimalPlaces="0" />
                                    <Slider Name="sdNVMem" Value="{Binding ElementName=nudNVMem, Path=Value}" Maximum="2000" Minimum="-500" Grid.Column="1" Margin="12,0,0,0" TickFrequency="25" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>

                            <TextBlock FontSize="12" Foreground="{DynamicResource TextFillColorTertiaryBrush}" Text="警告：我们对因调整频率和电压而导致的硬件损坏或不稳定不承担任何责任。" TextWrapping="WrapWithOverflow" Margin="0,8,0,0"/>
                        </StackPanel>
                    </ui:CardExpander>
                    <ui:CardControl Name="sdAsusPower"
IsEnabled="True"
Icon="Power20" Margin="0,8,15,0">
                        <ui:CardControl.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                    <TextBlock
                FontSize="14"
                FontWeight="Medium"
                Text="ASUS 电源配置" />
                                    <TextBlock
                FontSize="12"
                Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                Text="提供设置 ASUS 电源配置的能力。这将覆盖 Armoury Crate！"/>
                                </StackPanel>
                                <ComboBox
            Grid.Column="1"
            VerticalAlignment="Center" SelectedIndex="0" MinWidth="164" Name="cbxAsusPower" Height="37">
                                    <ComboBoxItem>交流控制</ComboBoxItem>
                                    <ComboBoxItem>静音</ComboBoxItem>
                                    <ComboBoxItem>性能</ComboBoxItem>
                                    <ComboBoxItem>极速</ComboBoxItem>
                                </ComboBox>

                            </Grid>
                        </ui:CardControl.Header>
                    </ui:CardControl>

                    <ui:CardExpander Name="sdRTSS" Visibility="Collapsed"
IsEnabled="True"
IsExpanded="False"
Icon="Pulse20" Margin="0,8,15,0">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                    <TextBlock
                FontSize="14"
                FontWeight="Medium"
                Text="静态 RTSS 帧率" />
                                    <TextBlock
                FontSize="12"
                Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                Text="提供设置自定义 RTSS 帧率限制的能力。"/>
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Grid.Column="1">
                                    <ui:ToggleSwitch Name="tsRTSS" Margin="0,0,9,0"/>
                                </StackPanel>
                            </Grid>
                        </ui:CardExpander.Header>
                        <!--  CardExpander content  -->
                        <StackPanel>
                            <StackPanel Margin="0,-8,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock FontWeight="DemiBold" FontSize="13" Foreground="{DynamicResource TextFillColorPrimaryBrush}">RTSS 帧率限制 (FPS)</TextBlock>
                                    <ui:SymbolIcon Symbol="Info20" Margin="6,0,0,-2" Foreground="{DynamicResource TextFillColorPrimaryBrush}" ToolTip="控制 RTSS 中设置的 FPS 限制" VerticalAlignment="Bottom" />
                                </StackPanel>

                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <ui:NumberBox Name="nudRTSS" Text="{Binding ElementName=sdRTSSLim, Path=Value}" Value="{Binding ElementName=sdRTSSLim, Path=Value}" Maximum="999" Minimum="0" Grid.Column="0" SmallChange="2" MaxDecimalPlaces="0" />
                                    <Slider Name="sdRTSSLim" Value="{Binding ElementName=nudRTSS, Path=Value}" Maximum="999" Minimum="0" Grid.Column="1" Margin="12,0,0,0" TickFrequency="2" VerticalAlignment="Center" IsSnapToTickEnabled="True" TouchDown="SizeSlider_TouchDown"/>
                                </Grid>
                            </StackPanel>
     
                        </StackPanel>
                    </ui:CardExpander>

                    <TextBlock Name="tbLog" Margin="0,9,0,0"></TextBlock>
                </StackPanel>
            </ScrollViewer>
        </DockPanel>
    </Grid>
</Page>
